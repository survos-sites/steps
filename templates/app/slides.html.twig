<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ code }} - Slideshow</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/dist/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/dist/theme/black.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/plugin/highlight/monokai.css">

    <style>
        .reveal h2 {
            text-transform: none;
            margin-bottom: 0.5em;
        }
        .reveal pre {
            width: 100%;
            font-size: 0.5em;
        }
        .reveal pre code {
            max-height: 500px;
            padding: 15px;
        }
        .reveal ul {
            font-size: 0.85em;
        }
        .reveal .slide-description {
            font-size: 0.75em;
            color: #aaa;
            margin-bottom: 1em;
        }
        .reveal .website-link {
            margin-top: 1em;
            font-size: 0.6em;
        }
        .reveal .command-block {
            background: #2d2d2d;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 0.7em;
            text-align: left;
        }
        .reveal .command-block::before {
            content: '$ ';
            color: #4ec9b0;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <!-- Title Slide -->
            <section>
                <h1>{{ code|replace({'-': ' '})|title }}</h1>
                <p>A Castor-Powered Slideshow</p>
                <p style="font-size: 0.6em; margin-top: 2em;">
                    <a href="{{ path('app_home') }}">‚Üê Back to Home</a>
                </p>
            </section>

            {% for task in tasks %}
            <section>
                <h2>{{ task.title }}</h2>

                {% if task.description %}
                <p class="slide-description">{{ task.description }}</p>
                {% endif %}

                {% if task.bullets|length > 0 %}
                <ul>
                    {% for bullet in task.bullets %}
                    <li>{{ bullet }}</li>
                    {% endfor %}
                </ul>
                {% endif %}

                {% if task.bash|length > 0 %}
                <div style="margin-top: 1em;">
                    <h3 style="font-size: 0.8em;">Commands:</h3>
                    {% for cmd in task.bash %}
                    <div class="command-block">{{ cmd|replace({'[': '', ']': '', '"': '', "'": '', ',': ' '})|raw }}</div>
                    {% endfor %}
                </div>
                {% endif %}

                {% if task.yaml %}
                <p style="font-size: 0.7em; margin-top: 1em;">
                    üìÑ Creates YAML configuration files
                </p>
                {% endif %}

                {% if task.website %}
                <div class="website-link">
                    <a href="{{ task.website }}" target="_blank">üîó {{ task.website }}</a>
                </div>
                {% endif %}

                <p style="font-size: 0.5em; margin-top: 2em; color: #666;">
                    Run: <code style="color: #42affa;">castor {{ task.name }}</code>
                </p>
            </section>
            {% endfor %}

            <!-- Final Slide -->
            <section>
                <h2>Thank You!</h2>
                <p>Questions?</p>
                <p style="margin-top: 2em; font-size: 0.7em;">
                    <a href="{{ path('app_home') }}">‚Üê Back to Home</a>
                </p>
            </section>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/plugin/highlight/highlight.js"></script>

    <script>
        Reveal.initialize({
            hash: true,
            slideNumber: true,
            controls: true,
            progress: true,
            center: true,
            transition: 'slide',
            plugins: [ RevealHighlight ]
        });
    </script>
</body>
</html>
